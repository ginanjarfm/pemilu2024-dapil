document.addEventListener("DOMContentLoaded",(function(){let favoritesPresiden=JSON.parse(localStorage.getItem("favoritesPresiden"))||[];let favoritesDpr=JSON.parse(localStorage.getItem("favoritesDpr"))||[];let favoritesDpd=JSON.parse(localStorage.getItem("favoritesDpd"))||[];let favoritesDprdProvinsi=JSON.parse(localStorage.getItem("favoritesDprdProvinsi"))||[];let favoritesDprdKabupaten=JSON.parse(localStorage.getItem("favoritesDprdKabupaten"))||[];let selectedProvince=localStorage.getItem("selectedProvince");let selectedDistrict=localStorage.getItem("selectedDistrict");let selectedSubdistrict=localStorage.getItem("selectedSubdistrict");function getFromLocalStorage(key){const item=localStorage.getItem(key);return item&&item!=="undefined"?JSON.parse(item):{}}let electoralDpr=getFromLocalStorage("electoralDpr");let electoralDpd=getFromLocalStorage("electoralDpd");let electoralDprdProvinsi=getFromLocalStorage("electoralDprdProvinsi");let electoralDprdKabupaten=getFromLocalStorage("electoralDprdKabupaten");const collapsibleElement=document.querySelectorAll(".collapsible");const collapsibleInstance=M.Collapsible.init(collapsibleElement,{accordion:false});let basePath="";if(window.location.hostname.endsWith(".github.io")){basePath="/pemilu2024-dapil"}if(selectedProvince&&selectedDistrict&&selectedSubdistrict){collapsibleInstance[0].close(0)}else{collapsibleInstance[0].open(0)}const navbarElement=document.querySelectorAll(".sidenav");const navInstance=M.Sidenav.init(navbarElement,{draggable:true});navInstance[0].open();const floatingElement=document.querySelectorAll(".fixed-action-btn");const floatingInstance=M.FloatingActionButton.init(floatingElement);const floatingButton=document.getElementById("menu-favorite");floatingButton.addEventListener("click",(function(){navInstance[0].open()}));const tabs=document.querySelectorAll(".tabs");const tabsInstance=M.Tabs.init(tabs,{});const tabsIndex=["presiden","dpr","dpd","dprd_provinsi","dprd_kabupaten"];const savedTabIndex=localStorage.getItem("activeTabIndex")||0;tabsInstance[0].select(tabsIndex[savedTabIndex]);tabsInstance[0].options.onShow=function(){const activeTabIndex=tabsInstance[0].index;localStorage.setItem("activeTabIndex",activeTabIndex)};let parpol=[];function populateOptionSelect(containerId,data,label,customName){const selectElement=document.getElementById(containerId);selectElement.innerHTML=`<option value="" disabled selected>Select ${label}</option>`;data.sort(((a,b)=>a.name.localeCompare(b.name)));data.forEach((item=>{const option=document.createElement("option");option.value=item.id;option.text=customName?updateDistrictName(item.name):item.name;selectElement.add(option)}));selectElement.disabled=false;M.FormSelect.init(selectElement);return selectElement}function clearOptionSelect(containerId,label){const selectElement=document.getElementById(containerId);selectElement.disabled=true;selectElement.innerHTML=`<option value="" disabled selected>Select ${label}</option>`;M.FormSelect.init(selectElement);return selectElement}async function handleDistrictWithoutSubdistrict(){if(selectedProvince==="31"){localStorage.setItem("selectedProvince",selectedProvince);localStorage.setItem("selectedDistrict",selectedDistrict);localStorage.setItem("selectedSubdistrict",selectedSubdistrict);if(selectedProvince&&selectedDistrict){collapsibleInstance[0].close(0);await populateElectoralArea()}const container=document.getElementById("favoritesDprdKabupaten");container.style.display="none";return true}else{const container=document.getElementById("favoritesDprdKabupaten");container.style.display="block";return false}}async function saveSelectedElectorals(){localStorage.setItem("selectedProvince",selectedProvince);localStorage.setItem("selectedDistrict",selectedDistrict);localStorage.setItem("selectedSubdistrict",selectedSubdistrict);if(selectedProvince&&selectedDistrict&&selectedSubdistrict){collapsibleInstance[0].close(0);await populateElectoralArea()}}fetch("data/parpol.json").then((response=>response.json())).then((data=>{parpol=data;fetch("data/provinces.json").then((response=>response.json())).then((provinces=>{const provincesSelect=populateOptionSelect("provinces",provinces,"Province");if(!provincesSelect.hasEventListener){provincesSelect.addEventListener("change",(function(){provincesSelect.hasEventListener=true;if(this.value=="")return;selectedProvince=this.value;fetch(`data/provinces/${selectedProvince}.json`).then((response=>response.json())).then((districts=>{const districtsSelect=populateOptionSelect("districts",districts,"District",true);delete selectedDistrict;clearOptionSelect("subdistricts","Subdistrict");delete selectedSubdistrict;if(!districtsSelect.hasEventListener){districtsSelect.addEventListener("change",(async function(){districtsSelect.hasEventListener=true;if(this.value=="")return;selectedDistrict=this.value;if(await handleDistrictWithoutSubdistrict())return;fetch(`data/provinces/${selectedProvince}/districts/${selectedDistrict}.json`).then((response=>response.json())).then((subdistricts=>{const subdistrictsSelect=populateOptionSelect("subdistricts",subdistricts,"Subdistrict");subdistrictsSelect.disabled=false;if(!subdistrictsSelect.hasEventListener){subdistrictsSelect.addEventListener("change",(async function(){subdistrictsSelect.hasEventListener=true;if(this.value=="")return;selectedSubdistrict=this.value;await saveSelectedElectorals()}));if(selectedSubdistrict){subdistrictsSelect.value=selectedSubdistrict;const event=new Event("change");subdistrictsSelect.dispatchEvent(event)}}}))}));if(selectedDistrict){districtsSelect.value=selectedDistrict;const event=new Event("change");districtsSelect.dispatchEvent(event)}}}))}))}if(selectedProvince){provincesSelect.value=selectedProvince;const event=new Event("change");provincesSelect.dispatchEvent(event)}}))}));const presCandidates=[{id:1,photo:"https://i.ibb.co/qmN3XxP/anies-muhaimin.jpg",name:"H. ANIES RASYID BASWEDAN, Ph.D",runningMate:"H. A. MUHAIMIN ISKANDAR, Dr. (H.C.)",partyLogos:["https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656224727_Logo%20NasDem%20KPU.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656538128_Logo%20PKB.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656395115_lambang_pks.png"]},{id:2,photo:"https://i.ibb.co/JzssdWy/prabowo-gibran.jpg",name:"H. PRABOWO SUBIANTO",runningMate:"GIBRAN RAKABUMING RAKA",partyLogos:["https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1657710596_Logo%20GERINDRA%2010x10.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656586681_Logo%20Golkar.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656229496_WhatsApp%20Image%202022-06-26%20at%201.53.14%20PM.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656404797_LOGO%20PAN.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656419883_logo-10x10.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1659262742_LOGO%20PBB.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656406064_Logo%20Partai%20Garuda%20square.png"]},{id:3,photo:"https://i.ibb.co/r0bTMrk/ganjar-mahfud.jpg",name:"H. GANJAR PRANOWO, S.H., M.I.P.",runningMate:"Prof. Dr. H. M. MAHFUD MD",partyLogos:["https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656305039_LOGO%20PDI%20PERJUANGAN.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1658455987_Logo%20PPP.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1659263373_hanura_10x10.png","https://infopemilu.kpu.go.id/berkas-sipol/parpol/profil/gambar_parpol/1656144884_LOGO%20PARTAI%20PERINDO%2010x10%20cm%20(RGB).png"]}];let dprCandidates=[];let dpdCandidates=[];let dprdProvinsiCandidates=[];let dprdKabupatenCandidates=[];function showToast(message){if(window.innerWidth<=600){M.toast({html:message})}}function clearCandidates(){const containerIds=["presiden-candidates","dpr-candidates","dpd-candidates","dprd_provinsi-candidates","dprd_kabupaten-candidates"];containerIds.forEach((containerId=>{const container=document.getElementById(containerId);container.innerHTML=""}))}async function init(){clearCandidates();await generateCandidatePresidenCards();await generateCandidateDprCards();await generateCandidateDpdCards();await generateCandidateDprdProvinsiCards();await generateCandidateDprdKabupatenCards();displayFavorites()}async function populateElectoralArea(){const electoralsResponse=await fetch("data/electorals.json");const electorals=await electoralsResponse.json();const provincesResponse=await fetch("data/provinces.json");const provinces=await provincesResponse.json();electoralDpr=electorals.find((electoral=>electoral.jenis_dapil==="DPR RI"&&electoral.kode_wilayah===selectedDistrict));electoralDpd=provinces.find((province=>province.id==selectedProvince));electoralDprdProvinsi=electorals.find((electoral=>electoral.jenis_dapil==="DPRD PROVINSI"&&electoral.kode_wilayah===selectedDistrict));if(electoralDprdProvinsi&&electoralDprdProvinsi.is_pecah){electoralDprdProvinsi=electorals.find((electoral=>electoral.kode_wilayah===selectedSubdistrict))}electoralDprdKabupaten=electorals.find((electoral=>electoral.jenis_dapil==="DPRD KABUPATEN/KOTA"&&electoral.kode_wilayah===selectedSubdistrict&&!electoral.is_pecah));await setLocalStorageAndInit()}async function setLocalStorageAndInit(){localStorage.setItem("electoralDpr",JSON.stringify(electoralDpr));localStorage.setItem("electoralDpd",JSON.stringify(electoralDpd));localStorage.setItem("electoralDprdProvinsi",JSON.stringify(electoralDprdProvinsi));localStorage.setItem("electoralDprdKabupaten",JSON.stringify(electoralDprdKabupaten));await init()}function groupCandidatesByParty(parpol,candidates){const groupedCandidates=candidates.reduce(((result,candidate)=>{const idPartai=candidate.id_partai;if(!result[idPartai]){result[idPartai]=[]}const candidateWithId={...candidate,id:parseInt(`${candidate.kode_dapil}${candidate.id_partai}${candidate.nomor_urut}`)};result[idPartai].push(candidateWithId);return result}),{});return parpol.map((party=>({...party,candidates:groupedCandidates[party.id]||[]})))}async function generateCandidatePresidenCards(){const container=document.getElementById("presiden-candidates");presCandidates.forEach((candidate=>{const card=createPresidenCard(candidate);container.appendChild(card)}))}function createCandidateInfoRow(label,value){return`\n      <div class="col s6" style="text-align: center; padding-right: 5px;">\n        <label class="truncate" style="font-size: 8px">${label}</label>\n        <span class="candidate-name-title" style="margin-top:2px">${value}</span>\n      </div>\n    `}function createPartyLogos(logos){return logos.map((logo=>`\n        <img\n          src="https://placehold.co/20x20"\n          data-src="${logo}"\n          alt=""\n          class="lazyload parpol-image"\n          style="margin: 1px; width: 20px; height: 20px; object-fit: contain;"\n        >\n      `)).join("")}function createPresidenCard(candidate){const card=document.createElement("div");card.className="col s12 m4 l4";card.innerHTML=`\n      <div class="card custom-card" id="card-presiden-candidates-${candidate.id}" onclick="toggleFavoritePresiden(${candidate.id})">\n        <a id="toggleButton-presiden-candidates-${candidate.id}" href="javascript:void(0);">\n          <i class="material-icons bookmark-icon" style="color: transparent;">star</i>\n        </a>\n        <div style="text-align: center; padding: 10px 0;">\n          <h3 style="margin: 0;">${candidate.id}</h3>\n        </div>\n        <div class="card-image">\n          <img\n            src="https://placehold.co/600x450"\n            data-src="${candidate.photo}"\n            alt="${candidate.name}"\n            class="lazyload"\n            width="100%"\n          >\n        </div>\n        <div class="card-content" style="padding: 24px 0;">\n          <div class="row">\n            ${createCandidateInfoRow("CALON PRESIDEN",candidate.name)}\n            ${createCandidateInfoRow("CALON WAKIL PRESIDEN",candidate.runningMate)}\n          </row>\n          <div class="row">\n            <div class="col s12" style="text-align: center; margin-top: 20px;">\n              <label style="font-size: 8px; display: block; margin-bottom: 5px;">GABUNGAN PARTAI POLITIK PENGUSUL</label>\n              ${createPartyLogos(candidate.partyLogos)}\n            </div>\n          </div>\n        </div>\n      </div>\n    `;return card}async function generateCandidateDpdCards(){const container=document.getElementById("dpd-candidates");if(electoralDpd){const candidateResponse=await fetch(`data/dpd/${electoralDpd.id}.json`);dpdCandidates=await candidateResponse.json();dpdCandidates.forEach((candidate=>{candidate.id=parseInt(`${candidate.kode_propinsi}${candidate.nomor_urut}`)}))}dpdCandidates.forEach((candidate=>{const card=createDpdCard(candidate);container.appendChild(card)}))}function createDpdCard(candidate){const card=document.createElement("div");card.className="col s4 m3 l2";card.innerHTML=`\n      <div class="card custom-card" id="card-dpd-candidates-${candidate.id}" onclick="toggleFavoriteDpd(${candidate.id})">\n        <a id="toggleButton-dpd-candidates-${candidate.id}" href="javascript:void(0);">\n          <i class="material-icons bookmark-icon" style="color: transparent;">star</i>\n        </a>\n        <div style="text-align: center; display: flex; align-items: center; justify-content: center; width: 100%; margin-bottom: 10px;">\n          <h5 style="margin: 0;">${candidate.nomor_urut}</h5>\n        </div>\n        <div class="card-image">\n          <div style="display: flex; justify-content: center; align-items: center;">\n            <img\n              src="https://placehold.co/60x90"\n              data-src="${candidate.foto}"\n              alt=""\n              class="lazyload"\n              style="width: 60px; height: 90px; object-fit: contain;"\n            >\n          </div>\n        </div>\n        <div class="card-content card-candidate">\n          <span class="candidate-name-large">${candidate.nama}</span>\n        </div>\n      </div>\n    `;return card}async function generateCandidateCards(containerId,dataUrl,onClickHandler){const container=document.getElementById(containerId);if(!container){return}const response=await fetch(dataUrl);if(!response.ok){return}const candidates=groupCandidatesByParty(parpol,await response.json());let maxCandidates=0;candidates.forEach((data=>{maxCandidates=Math.max(maxCandidates,data.candidates.length)}));candidates.forEach((data=>{if(data.candidates.length===0)return;const card=createCandidateCard(containerId,data,maxCandidates,onClickHandler);container.appendChild(card)}));return candidates}function extractCategoryFromContainerId(containerId){return containerId.split("-")[0]}function createCandidateCard(containerId,data,maxCandidates,onClickHandler){const category=extractCategoryFromContainerId(containerId);const card=document.createElement("div");card.className="col s6 m4 l3";card.innerHTML=`\n      <div class="card">\n        <div style="text-align: center; padding: 10px 0;">\n          <div class="parpol-item">\n            <span class="parpol-number">${data.nomor_urut}</span>\n            <img\n              src="https://placehold.co/50x50"\n              data-src="${data.foto}"\n              alt=""\n              class="lazyload parpol-image"\n              style="width: 45px; height: 45px; object-fit: contain;"\n            >\n            <span class="parpol-name">${data.nama}</span>\n          </div>\n        </div>\n        <div class="card-content card-candidate">\n          <ul class="collection">\n            ${data.candidates.map((candidate=>`\n              <li class="collection-item candidate-item custom-collection" id="card-${category}-${candidate.id}" onclick="${onClickHandler}(${candidate.id})">\n                <span class="candidate-number">${candidate.nomor_urut}.</span>\n                <span class="candidate-name">${candidate.nama}</span>\n                <a id="toggleButton-${category}-${candidate.id}" href="javascript:void(0);" style="float: right;">\n                  <i class="material-icons bookmark-icon" style="color: transparent;">star</i>\n                </a>\n              </li>\n            `)).join("")}\n            ${Array.from({length:maxCandidates-data.candidates.length},((_,index)=>`\n              <li class="collection-item candidate-item empty-collection">\n                <span class="candidate-number">&nbsp;</span>\n                <span class="candidate-name">&nbsp;</span>\n                <a href="javascript:void(0);" style="float: right;">\n                  <i class="material-icons bookmark-icon" style="color: transparent;">star</i>\n                </a>\n              </li>\n            `)).join("")}\n          </ul>\n        </div>\n      </div>\n    `;return card}async function generateCandidateDprCards(){dprCandidates=await generateCandidateCards("dpr-candidates",`data/dpr/${electoralDpr.kode_dapil}.json`,"toggleFavoriteDpr")}async function generateCandidateDprdProvinsiCards(){dprdProvinsiCandidates=await generateCandidateCards("dprd_provinsi-candidates",`data/dprdprov/${electoralDprdProvinsi.kode_dapil}.json`,"toggleFavoriteDprdProvinsi")}async function generateCandidateDprdKabupatenCards(){dprdKabupatenCandidates=await generateCandidateCards("dprd_kabupaten-candidates",`data/dprdkk/${electoralDprdKabupaten.kode_dapil}.json`,"toggleFavoriteDprdKabupaten")}window.toggleFavoritePresiden=function(candidateId){const index=favoritesPresiden.indexOf(candidateId);let candidate=presCandidates.find((c=>c.id===candidateId));if(index===-1){favoritesPresiden=[candidateId];showToast(`${candidate.name} ditambahkan ke favorit.`)}else{favoritesPresiden.splice(index,1);showToast(`${candidate.name} dihapus dari favorit.`)}localStorage.setItem("favoritesPresiden",JSON.stringify(favoritesPresiden));displayFavoritesPresiden()};window.toggleFavoriteDpr=function(candidateId){const index=favoritesDpr.indexOf(candidateId);let candidate;dprCandidates.forEach((party=>{const foundCandidate=party.candidates.find((c=>c.id===candidateId));if(foundCandidate){candidate=foundCandidate}}));if(index===-1){favoritesDpr=[candidateId];showToast(`${candidate.nama} ditambahkan ke favorit.`)}else{favoritesDpr.splice(index,1);showToast(`${candidate.nama} dihapus dari favorit.`)}localStorage.setItem("favoritesDpr",JSON.stringify(favoritesDpr));displayFavoritesDpr()};window.toggleFavoriteDpd=function(candidateId){const index=favoritesDpd.indexOf(candidateId);let candidate=dpdCandidates.find((c=>c.id===candidateId));if(index===-1){favoritesDpd=[candidateId];showToast(`${candidate.nama} ditambahkan ke favorit.`)}else{favoritesDpd.splice(index,1);showToast(`${candidate.nama} dihapus dari favorit.`)}localStorage.setItem("favoritesDpd",JSON.stringify(favoritesDpd));displayFavoritesDpd()};window.toggleFavoriteDprdProvinsi=function(candidateId){const index=favoritesDprdProvinsi.indexOf(candidateId);let candidate;dprdProvinsiCandidates.forEach((party=>{const foundCandidate=party.candidates.find((c=>c.id===candidateId));if(foundCandidate){candidate=foundCandidate}}));if(index===-1){favoritesDprdProvinsi=[candidateId];showToast(`${candidate.nama} ditambahkan ke favorit.`)}else{favoritesDprdProvinsi.splice(index,1);showToast(`${candidate.nama} dihapus dari favorit.`)}localStorage.setItem("favoritesDprdProvinsi",JSON.stringify(favoritesDprdProvinsi));displayFavoritesDprdProvinsi()};window.toggleFavoriteDprdKabupaten=function(candidateId){const index=favoritesDprdKabupaten.indexOf(candidateId);let candidate;dprdKabupatenCandidates.forEach((party=>{const foundCandidate=party.candidates.find((c=>c.id===candidateId));if(foundCandidate){candidate=foundCandidate}}));if(index===-1){favoritesDprdKabupaten=[candidateId];showToast(`${candidate.nama} ditambahkan ke favorit.`)}else{favoritesDprdKabupaten.splice(index,1);showToast(`${candidate.nama} dihapus dari favorit.`)}localStorage.setItem("favoritesDprdKabupaten",JSON.stringify(favoritesDprdKabupaten));displayFavoritesDprdKabupaten()};function updateButtonAndCard(candidate,category,favorites,isCollection){favorites.forEach((favoriteId=>{if(candidate.id!==favoriteId){const otherButton=document.getElementById(`toggleButton-${category}-${candidate.id}`);if(otherButton){otherButton.innerHTML='<i class="material-icons bookmark-icon transparent">star</i>'}const otherCard=document.getElementById(`card-${category}-${candidate.id}`);if(otherCard){otherCard.classList.toggle(isCollection?"active-collection":"active-card",false)}}}));const button=document.getElementById(`toggleButton-${category}-${candidate.id}`);if(button){const index=favorites.indexOf(candidate.id);if(index===-1){button.innerHTML='<i class="material-icons bookmark-icon" style="color: transparent;">star</i>'}else{button.innerHTML='<i class="material-icons bookmark-icon" style="color: red;">star_border</i>'}}const card=document.getElementById(`card-${category}-${candidate.id}`);if(card){const index=favorites.indexOf(candidate.id);if(index===-1){card.classList.toggle(isCollection?"active-collection":"active-card",false)}else{card.classList.toggle(isCollection?"active-collection":"active-card",true)}}}function updatePresidenButtonText(){presCandidates.forEach((candidate=>{updateButtonAndCard(candidate,"presiden-candidates",favoritesPresiden,false)}))}function updateDprButtonText(){const category=extractCategoryFromContainerId("dpr-candidates");dprCandidates.forEach((party=>{party.candidates.forEach((candidate=>{updateButtonAndCard(candidate,category,favoritesDpr,true)}))}))}function updateDpdButtonText(){dpdCandidates.forEach((candidate=>{updateButtonAndCard(candidate,"dpd-candidates",favoritesDpd,false)}))}function updateDprdProvinsiButtonText(){const category=extractCategoryFromContainerId("dprd_provinsi-candidates");dprdProvinsiCandidates.forEach((party=>{party.candidates.forEach((candidate=>{updateButtonAndCard(candidate,category,favoritesDprdProvinsi,true)}))}))}function updateDprdKabupatenButtonText(){const category=extractCategoryFromContainerId("dprd_kabupaten-candidates");dprdKabupatenCandidates.forEach((party=>{party.candidates.forEach((candidate=>{updateButtonAndCard(candidate,category,favoritesDprdKabupaten,true)}))}))}function displayFavorites(){displayFavoritesPresiden();displayFavoritesDpr();displayFavoritesDpd();displayFavoritesDprdProvinsi();displayFavoritesDprdKabupaten();displayHeader()}function updateDistrictName(strName){if(strName&&!strName.startsWith("KOTA")){strName="KAB. "+strName}return strName}async function displayHeader(){const setElementInnerHTML=(elementId,value)=>{const element=document.getElementById(elementId);if(element){element.innerHTML=value}};setElementInnerHTML("electoral-dpr",electoralDpr?.nama_dapil);setElementInnerHTML("electoral-dpd",electoralDpd?.name);setElementInnerHTML("electoral-dprd-prov",electoralDprdProvinsi?.nama_dapil);setElementInnerHTML("electoral-dprd-kk",electoralDprdKabupaten?.nama_dapil);const provincesResponse=await fetch("data/provinces.json");const provinces=await provincesResponse.json();const province=provinces.find((province=>province.id==selectedProvince));setElementInnerHTML("electoral-province",province?.name);const districtsResponse=await fetch(`data/provinces/${selectedProvince}.json`);const districts=await districtsResponse.json();const district=districts.find((district=>district.id==selectedDistrict));setElementInnerHTML("electoral-district",updateDistrictName(district?.name))}function displayFavoritesPresiden(){const favoritesContainer=document.getElementById("favoritesPresiden");favoritesContainer.innerHTML="";if(favoritesPresiden.length>0){favoritesContainer.innerHTML=`\n        <div class="collection-header"><label>PRESIDEN DAN WAKIL PRESIDEN</label></div>\n      `;favoritesPresiden.forEach((favoriteId=>{const favoriteCandidate=presCandidates.find((candidate=>candidate.id===favoriteId));if(favoriteCandidate){const collectionItem=document.createElement("div");collectionItem.className="collection-item avatar";collectionItem.innerHTML=`\n            <div class="card horizontal" style="margin: 0;">\n              <div class="card-stacked">\n                <div class="card-content card-small">\n                  <div style="display: flex; justify-content: space-between; align-items: center;">\n                    <div style="display: flex; align-items: center;">\n                      <img src="${favoriteCandidate.photo}" alt="" style="width: 45px; height: 45px; object-fit: contain;">\n                      <span class="candidate-name-title" style="text-align: left; margin-left: 8px;">${favoriteCandidate.name}</span>\n                    </div>\n                    <a href="javascript:void(0);" style="padding: 5px; color: red;" onclick="toggleFavoritePresiden(${favoriteCandidate.id})">\n                      <i class="material-icons">highlight_off</i>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `;favoritesContainer.appendChild(collectionItem)}}))}else{favoritesContainer.innerHTML=`\n        <div class="collection-header"><label>PRESIDEN DAN WAKIL PRESIDEN</label></div>\n        <div class="collection-item empty-selection">\n          <div class="card horizontal" style="margin: 0">\n            <div class="card-stacked">\n              <div class="card-content card-small">\n                <p class="center-align" style="color: rgb(211,211,211);">PILIH KANDIDATMU</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      `}updatePresidenButtonText()}function displayFavoritesDpr(){const favoritesContainer=document.getElementById("favoritesDpr");favoritesContainer.innerHTML="";if(favoritesDpr.length>0){favoritesContainer.innerHTML=`\n        <div class="collection-header truncate"><label>DPR ${electoralDpr?.nama_dapil}</label></div>\n      `;favoritesDpr.forEach((favoriteId=>{let favoriteCandidate;dprCandidates.forEach((party=>{const foundCandidate=party.candidates.find((c=>c.id===favoriteId));if(foundCandidate){favoriteCandidate=foundCandidate}}));if(favoriteCandidate){const collectionItem=document.createElement("div");collectionItem.className="collection-item avatar";collectionItem.innerHTML=`\n            <div class="card horizontal" style="margin: 0;">\n              <div class="card-stacked">\n                <div class="card-content card-small">\n                  <div style="display: flex; justify-content: space-between; align-items: center;">\n                    <div style="display: flex; align-items: center;">\n                      <img src="${favoriteCandidate.foto}" alt="" style="width: 45px; height: 45px; object-fit: contain;">\n                      <span class="candidate-name-title" style="text-align: left; margin-left: 8px;">${favoriteCandidate.nama}</span>\n                    </div>\n                    <a href="javascript:void(0);" style="padding: 5px; color: red;" onclick="toggleFavoriteDpr(${favoriteCandidate.id})">\n                      <i class="material-icons">highlight_off</i>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `;favoritesContainer.appendChild(collectionItem)}else{favoritesContainer.innerHTML=`\n            <div class="collection-header truncate"><label>DPR ${electoralDpr?.nama_dapil}</label></div>\n            <div class="collection-item empty-selection">\n              <div class="card horizontal" style="margin: 0">\n                <div class="card-stacked">\n                  <div class="card-content card-small">\n                    <p class="center-align" style="color: rgb(211,211,211);">PILIH KANDIDATMU</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `}}))}else{favoritesContainer.innerHTML=`\n        <div class="collection-header truncate"><label>DPR ${electoralDpr?.nama_dapil}</label></div>\n        <div class="collection-item empty-selection">\n          <div class="card horizontal" style="margin: 0">\n            <div class="card-stacked">\n              <div class="card-content card-small">\n                <p class="center-align" style="color: rgb(211,211,211);">PILIH KANDIDATMU</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      `}updateDprButtonText()}function displayFavoritesDpd(){const favoritesContainer=document.getElementById("favoritesDpd");favoritesContainer.innerHTML="";if(favoritesDpd.length>0){favoritesContainer.innerHTML=`\n        <div class="collection-header truncate"><label>DPD ${electoralDpd?.name}</label></div>\n      `;favoritesDpd.forEach((favoriteId=>{const favoriteCandidate=dpdCandidates.find((candidate=>candidate.id===favoriteId));if(favoriteCandidate){const collectionItem=document.createElement("div");collectionItem.className="collection-item avatar";collectionItem.innerHTML=`\n            <div class="card horizontal" style="margin: 0;">\n              <div class="card-stacked">\n                <div class="card-content card-small">\n                  <div style="display: flex; justify-content: space-between; align-items: center;">\n                    <div style="display: flex; align-items: center;">\n                      <img src="${favoriteCandidate.foto}" alt="" style="width: 45px; height: 45px; object-fit: contain;">\n                      <span class="candidate-name-title" style="text-align: left; margin-left: 8px;">${favoriteCandidate.nama}</span>\n                    </div>\n                    <a href="javascript:void(0);" style="padding: 5px; color: red;" onclick="toggleFavoriteDpd(${favoriteCandidate.id})">\n                      <i class="material-icons">highlight_off</i>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `;favoritesContainer.appendChild(collectionItem)}else{favoritesContainer.innerHTML=`\n            <div class="collection-header truncate"><label>DPD ${electoralDpd?.name}</label></div>\n            <div class="collection-item empty-selection">\n              <div class="card horizontal" style="margin: 0">\n                <div class="card-stacked">\n                  <div class="card-content card-small">\n                    <p class="center-align" style="color: rgb(211,211,211);">PILIH KANDIDATMU</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `}}))}else{favoritesContainer.innerHTML=`\n        <div class="collection-header truncate"><label>DPD ${electoralDpd?.name}</label></div>\n        <div class="collection-item empty-selection">\n          <div class="card horizontal" style="margin: 0">\n            <div class="card-stacked">\n              <div class="card-content card-small">\n                <p class="center-align" style="color: rgb(211,211,211);">PILIH KANDIDATMU</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      `}updateDpdButtonText()}function displayFavoritesDprdProvinsi(){const favoritesContainer=document.getElementById("favoritesDprdProvinsi");favoritesContainer.innerHTML="";if(favoritesDprdProvinsi.length>0){favoritesContainer.innerHTML=`\n        <div class="collection-header truncate"><label>DPRD PROVINSI ${electoralDprdProvinsi?.nama_dapil}</label></div>\n      `;favoritesDprdProvinsi.forEach((favoriteId=>{let favoriteCandidate;dprdProvinsiCandidates.forEach((party=>{const foundCandidate=party.candidates.find((c=>c.id===favoriteId));if(foundCandidate){favoriteCandidate=foundCandidate}}));if(favoriteCandidate){const collectionItem=document.createElement("div");collectionItem.className="collection-item avatar";collectionItem.innerHTML=`\n            <div class="card horizontal" style="margin: 0;">\n              <div class="card-stacked">\n                <div class="card-content card-small">\n                  <div style="display: flex; justify-content: space-between; align-items: center;">\n                    <div style="display: flex; align-items: center;">\n                      <img src="${favoriteCandidate.foto}" alt="" style="width: 45px; height: 45px; object-fit: contain;">\n                      <span class="candidate-name-title" style="text-align: left; margin-left: 8px;">${favoriteCandidate.nama}</span>\n                    </div>\n                    <a href="javascript:void(0);" style="padding: 5px; color: red;" onclick="toggleFavoriteDprdProvinsi(${favoriteCandidate.id})">\n                      <i class="material-icons">highlight_off</i>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `;favoritesContainer.appendChild(collectionItem)}else{favoritesContainer.innerHTML=`\n            <div class="collection-header truncate"><label>DPRD PROVINSI ${electoralDprdProvinsi?.nama_dapil}</label></div>\n            <div class="collection-item empty-selection">\n              <div class="card horizontal" style="margin: 0">\n                <div class="card-stacked">\n                  <div class="card-content card-small">\n                    <p class="center-align" style="color: rgb(211,211,211);">PILIH KANDIDATMU</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `}}))}else{favoritesContainer.innerHTML=`\n        <div class="collection-header truncate"><label>DPRD PROVINSI ${electoralDprdProvinsi?.nama_dapil}</label></div>\n        <div class="collection-item empty-selection">\n          <div class="card horizontal" style="margin: 0">\n            <div class="card-stacked">\n              <div class="card-content card-small">\n                <p class="center-align" style="color: rgb(211,211,211);">PILIH KANDIDATMU</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      `}updateDprdProvinsiButtonText()}function displayFavoritesDprdKabupaten(){const favoritesContainer=document.getElementById("favoritesDprdKabupaten");favoritesContainer.innerHTML="";if(favoritesDprdKabupaten.length>0){favoritesContainer.innerHTML=`\n        <div class="collection-header truncate"><label>DPRD KAB/KOTA ${electoralDprdKabupaten?.nama_dapil}</label></div>\n      `;favoritesDprdKabupaten.forEach((favoriteId=>{let favoriteCandidate;dprdKabupatenCandidates.forEach((party=>{const foundCandidate=party.candidates.find((c=>c.id===favoriteId));if(foundCandidate){favoriteCandidate=foundCandidate}}));if(favoriteCandidate){const collectionItem=document.createElement("div");collectionItem.className="collection-item avatar";collectionItem.innerHTML=`\n            <div class="card horizontal" style="margin: 0;">\n              <div class="card-stacked">\n                <div class="card-content card-small">\n                  <div style="display: flex; justify-content: space-between; align-items: center;">\n                    <div style="display: flex; align-items: center;">\n                      <img src="${favoriteCandidate.foto}" alt="" style="width: 45px; height: 45px; object-fit: contain;">\n                      <span class="candidate-name-title" style="text-align: left; margin-left: 8px;">${favoriteCandidate.nama}</span>\n                    </div>\n                    <a href="javascript:void(0);" style="padding: 5px; color: red;" onclick="toggleFavoriteDprdKabupaten(${favoriteCandidate.id})">\n                      <i class="material-icons">highlight_off</i>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `;favoritesContainer.appendChild(collectionItem)}else{favoritesContainer.innerHTML=`\n            <div class="collection-header truncate"><label>DPRD KAB/KOTA ${electoralDprdKabupaten?.nama_dapil}</label></div>\n            <div class="collection-item empty-selection">\n              <div class="card horizontal" style="margin: 0">\n                <div class="card-stacked">\n                  <div class="card-content card-small">\n                    <p class="center-align" style="color: rgb(211,211,211);">PILIH KANDIDATMU</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `}}))}else{favoritesContainer.innerHTML=`\n        <div class="collection-header truncate"><label>DPRD KAB/KOTA ${electoralDprdKabupaten?.nama_dapil}</label></div>\n        <div class="collection-item empty-selection">\n          <div class="card horizontal" style="margin: 0">\n            <div class="card-stacked">\n              <div class="card-content card-small">\n                <p class="center-align" style="color: rgb(211,211,211);">PILIH KANDIDATMU</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      `}updateDprdKabupatenButtonText()}}));